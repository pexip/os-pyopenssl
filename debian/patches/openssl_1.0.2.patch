diff --git a/OpenSSL/crypto/crl.c b/OpenSSL/crypto/crl.c
index bc76f22..72e511c 100644
--- a/OpenSSL/crypto/crl.c
+++ b/OpenSSL/crypto/crl.c
@@ -2,7 +2,7 @@
 #define crypto_MODULE
 #include "crypto.h"
 
-
+#if ((OPENSSL_VERSION_NUMBER >> 12) < 0x10002)
 static X509_REVOKED * X509_REVOKED_dup(X509_REVOKED *orig) {
     X509_REVOKED *dupe = NULL;
 
@@ -32,6 +32,7 @@ static X509_REVOKED * X509_REVOKED_dup(X509_REVOKED *orig) {
     dupe->sequence = orig->sequence;
     return dupe;
 }
+#endif
 
 static char crypto_CRL_get_revoked_doc[] = "\n\
 Return revoked portion of the CRL structure (by value\n\
